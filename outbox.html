<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="assets/favicon-32x32.png" sizes="32x32">
  <title>Outbox Device Financing Form</title>
  <style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f4f6f8;
    margin: 0;
    padding: 0;
    color: #333;
  }

  .container {
    max-width: 750px;
    margin: 40px auto;
    background: #fff;
    padding: 35px;
    border-radius: 12px;
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
  }

  #partner-logo img {
    display: block;
    margin: 0 auto 20px;
    max-width: 160px;
  }

  h1 {
    text-align: center;
    font-size: 28px;
    margin-bottom: 10px;
    color: #2c3e50;
  }

  /* âœ… Updated paragraph style */
  p.intro {
    text-align: justify;
    font-size: 16px;
    line-height: 1.7;
    margin-bottom: 30px;
    color: #555;
  }

  h2.section-title {
    font-size: 20px;
    margin-top: 30px;
    margin-bottom: 15px;
    color: #34495e;
    border-bottom: 1px solid #ddd;
    padding-bottom: 5px;
  }

  form {
    display: flex;
    flex-direction: column;
    gap: 18px;
  }

  label {
    font-weight: 600;
    margin-bottom: 5px;
  }
/* Apply consistent styling to all inputs */
input.styled-input,
input[type="text"],
input[type="email"],
input[type="tel"],
input[type="file"],
select {
  padding: 10px;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-size: 14px;
  width: 100%;
  box-sizing: border-box;
  transition: border 0.2s;
}

input.styled-input:focus,
input[type="text"]:focus,
input[type="email"]:focus,
input[type="tel"]:focus,
input[type="file"]:focus,
select:focus {
  border-color: #2c3e50;
  outline: none;
  box-shadow: 0 0 5px rgba(44, 62, 80, 0.2);
}


  .row {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
  }

  .row .col {
    flex: 1;
    min-width: 200px;
    display: flex;
    flex-direction: column;
  }

  .checkbox-group {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    margin-top: 5px;
  }

  .checkbox-group label {
    font-weight: normal;
  }

  #businessFields,
  #ninField,
  #otherIdField,
  #registeredNameField {
    margin-top: 10px;
  }

  button {
    margin-top: 25px;
    padding: 14px 0;
    font-size: 16px;
    font-weight: bold;
    border-radius: 8px;
    border: none;
    background-color: #2c3e50;
    color: #fff;
    cursor: pointer;
    transition: background-color 0.2s;
  }

  button:hover {
    background-color: #34495e;
  }

  .note {
    font-size: 0.9em;
    color: #7f8c8d;
    margin-top: 10px;
    text-align: center;
  }

  @media (max-width: 600px) {
    .row {
      flex-direction: column;
    }
  }
</style>

</head>
<body>
  <div class="container">
    <div id="partner-logo">
      <img id="partnerLogo" src="assets/outbox.png" alt="Outbox Logo">
    </div>
    <h1>Outbox Device Financing Form</h1>
<p class="intro">
  Welcome to the Outbox Device Financing Program. Please fill out this form carefully to help us assess 
  your eligibility for device financing. Your responses will be kept confidential.
</p>


    <form id="deviceForm">
      <!-- Participant Info -->
      <h2 class="section-title">Participant Details</h2>
      <div class="row">
        <div class="col">
          <label for="firstName">First Name *</label>
          <input type="text" id="firstName" name="firstName" required>
        </div>
        <div class="col">
          <label for="lastName">Last Name *</label>
          <input type="text" id="lastName" name="lastName" required>
        </div>
      </div>

      <label for="email">Email Address *</label>
      <input type="email" id="email" name="email" placeholder="Email used for 10X Foundation course" required>

      <label for="telephone">Telephone Number (MTN or Airtel) *</label>
      <input type="tel" id="telephone" name="telephone" required>

      <label for="numberRegistered">Is the number registered in your name? *</label>
      <div class="checkbox-group">
        <label><input type="radio" name="numberRegistered" value="Yes" required> Yes</label>
        <label><input type="radio" name="numberRegistered" value="No"> No</label>
      </div>

      <div id="registeredNameField" style="display:none;">
        <label for="registeredName">In whose name is the number registered? *</label>
        <input type="text" id="registeredName" name="registeredName">
      </div>

      <label for="disabled">Are you disabled? *</label>
      <div class="checkbox-group">
        <label><input type="radio" name="disabled" value="Yes" required> Yes</label>
        <label><input type="radio" name="disabled" value="No"> No</label>
      </div>
        <div id="disabilityDetailsField" style="display:none; margin-top:10px;">
          <label for="disabilityDetails">If yes, please specify your disability *</label>
          <textarea id="disabilityDetails" name="disabilityDetails" rows="2" style="width:100%; border-radius:6px; border:1px solid #ccc; padding:10px;"></textarea>
        </div>
 
      <label for="esoHub">Which ESO/Hub are you attached to? *</label>
      <select id="esoHub" name="esoHub" required>
        <option value="">Select ESO/Hub</option>
        <option value="Challenges Uganda">Challenges Uganda</option>
        <option value="Dfcu Foundation">Dfcu Foundation</option>
        <option value="Excelhort">Excelhort</option>
        <option value="Finding XY">Finding XY</option>
        <option value="Mkazipreneur">Mkazipreneur</option>
        <option value="MUBS">MUBS</option>
        <option value="Private Education Development Network (PEDN)">Private Education Development Network (PEDN)</option>
        <option value="Stanbic Incubator">Stanbic Incubator</option>
        <option value="Other">Other</option>
      </select>


      <label>
        <input type="checkbox" id="hasBusiness" checked> I have a registered business
      </label>

      <div id="businessFields">
        <label for="businessName">Business Name *</label>
        <input type="text" id="businessName" name="businessName">

        <label for="district">District (where your business operates) *</label>
   <select id="district" name="district" required>
  <option value="">Select District</option>
  <option value="Agago">Agago</option>
  <option value="Amolatar">Amolatar</option>
  <option value="Amuria">Amuria</option>
  <option value="Amuru">Amuru</option>
  <option value="Apac">Apac</option>
  <option value="Arua">Arua</option>
  <option value="Bugiri">Bugiri</option>
  <option value="Bugweri">Bugweri</option>
  <option value="Bundibugyo">Bundibugyo</option>
  <option value="Bunyangabu">Bunyangabu</option>
  <option value="Bushenyi">Bushenyi</option>
  <option value="Busia">Busia</option>
  <option value="Butaleja">Butaleja</option>
  <option value="Butambala">Butambala</option>
  <option value="Gomba">Gomba</option>
  <option value="Iganga">Iganga</option>
  <option value="Isingiro">Isingiro</option>
  <option value="Jinja">Jinja</option>
  <option value="Kabale">Kabale</option>
  <option value="Kabarole">Kabarole</option>
  <option value="Kampala">Kampala</option>
  <option value="Kanungu">Kanungu</option>
  <option value="Kapchorwa">Kapchorwa</option>
  <option value="Kasese">Kasese</option>
  <option value="Katakwi">Katakwi</option>
  <option value="Kiboga">Kiboga</option>
  <option value="Kikuube">Kikuube</option>
  <option value="Kiryandongo">Kiryandongo</option>
  <option value="Kisoro">Kisoro</option>
  <option value="Kitagwenda">Kitagwenda</option>
  <option value="Kitgum">Kitgum</option>
  <option value="Koboko">Koboko</option>
  <option value="Kotido">Kotido</option>
  <option value="Kyegegwa">Kyegegwa</option>
  <option value="Kyenjojo">Kyenjojo</option>
  <option value="Lira">Lira</option>
  <option value="Luwero">Luwero</option>
  <option value="Lwengo">Lwengo</option>
  <option value="Masaka">Masaka</option>
  <option value="Masindi">Masindi</option>
  <option value="Mayuge">Mayuge</option>
  <option value="Mbarara">Mbarara</option>
  <option value="Mbale">Mbale</option>
  <option value="Mitooma">Mitooma</option>
  <option value="Mityana">Mityana</option>
  <option value="Moroto">Moroto</option>
  <option value="Mpigi">Mpigi</option>
  <option value="Mubende">Mubende</option>
  <option value="Mukono">Mukono</option>
  <option value="Nakapiripirit">Nakapiripirit</option>
  <option value="Nakaseke">Nakaseke</option>
  <option value="Nakasongola">Nakasongola</option>
  <option value="Namisindwa">Namisindwa</option>
  <option value="Namutumba">Namutumba</option>
  <option value="Ntungamo">Ntungamo</option>
  <option value="Nwoya">Nwoya</option>
  <option value="Omoro">Omoro</option>
  <option value="Oyam">Oyam</option>
  <option value="Pader">Pader</option>
  <option value="Pallisa">Pallisa</option>
  <option value="Rakai">Rakai</option>
  <option value="Rubirizi">Rubirizi</option>
  <option value="Rukungiri">Rukungiri</option>
  <option value="Rwampara">Rwampara</option>
  <option value="Sheema">Sheema</option>
  <option value="Sironko">Sironko</option>
  <option value="Soroti">Soroti</option>
  <option value="Tororo">Tororo</option>
  <option value="Wakiso">Wakiso</option>
  <option value="Yumbe">Yumbe</option>
  <option value="Other">Other</option>
</select>

<label for="tin">TIN Number *</label>
        <input type="text" id="tin" name="tin">

        <label for="confirmTin">Confirm TIN Number *</label>
        <input type="text" id="confirmTin" name="confirmTin">

        <label for="businessLicense">Business License Number *</label>
        <input type="text" id="businessLicense" name="businessLicense">
      </div>

      <label for="village">Village *</label>
      <input type="text" id="village" name="village" required>

      <!-- ID Type & Upload -->
      <label for="idType">Type of ID *</label>
      <select id="idType" name="idType" required>
        <option value="">Select ID type</option>
        <option value="National ID">National ID</option>
        <option value="Passport">Passport</option>
        <option value="Other">Other</option>
      </select>

      <div id="ninField" style="display:none;">
        <label for="nin">National Identification Number (NIN) *</label>
        <input type="text" id="nin" name="nin">
      </div>

      <div id="otherIdField" style="display:none;">
        <label for="otherIdNumber">ID Number *</label>
        <input type="text" id="otherIdNumber" name="otherIdNumber">
      </div>

      <label for="idFront">Upload ID (Front) *</label>
      <input type="file" id="idFront" name="idFront" accept=".png,.jpg,.jpeg" required>

      <label for="idBack">Upload ID (Back) *</label>
      <input type="file" id="idBack" name="idBack" accept=".png,.jpg,.jpeg" required>

      <!-- Device Info -->
      <h2 class="section-title">Device Information</h2>
      <label>What type of device(s) are you interested in acquiring? Please select ALL that apply *</label>
      <div class="checkbox-group">
        <label><input type="checkbox" name="deviceType" value="Tablet"> Tablet</label>
        <label><input type="checkbox" name="deviceType" value="Smartphone"> Smartphone</label>
        <label><input type="checkbox" name="deviceType" value="Laptop"> Laptop</label>
        <label><input type="checkbox" name="deviceType" value="POS Machine"> POS Machine</label>
        <label><input type="checkbox" name="deviceType" value="Software"> Software</label>
      </div>
<label for="priceRange">Provide the price range you are comfortable with for each device selected *</label>
<input type="number" id="priceRange" name="priceRange" placeholder="Enter total price (UGX)" required>

<label for="paymentDuration">Preferred Payment installment periods *</label>
<select id="paymentDuration" name="paymentDuration" required>
  <option value="">Select duration</option>
  <option value="Weekly">Weekly (52 installments)</option>
  <option value="Bi-Weekly">Bi-Weekly (26 installments)</option>
  <option value="Monthly">Monthly (12 installments)</option>
  <option value="3-Months">Every 3 Months (Quarterly, 4 installments)</option>
  <option value="6-Months">Every 6 Months (Semi-Annual, 2 installments)</option>
  <option value="Yearly">Yearly (1 installment)</option>
</select>

<label for="installmentAmount">Preferred Installment Amount</label>
<input type="text" id="installmentAmount" name="installmentAmount" placeholder="Calculated automatically" readonly>

<input type="text" id="installmentAmount" name="installmentAmount" readonly>
<p class="note">Installment is auto-calculated.</p>

      <button type="submit">Submit</button>
      <p class="note">Fields marked with * are mandatory.</p>
    </form>
  </div>


  <script>
  // Toggle business fields
  const hasBusiness = document.getElementById('hasBusiness');
  const businessFields = document.getElementById('businessFields');
  function toggleBusinessFields() {
    if (hasBusiness.checked) {
      businessFields.style.display = 'block';
      ['businessName','district','tin','confirmTin','businessLicense'].forEach(id => {
        document.getElementById(id).required = true;
      });
    } else {
      businessFields.style.display = 'none';
      ['businessName','district','tin','confirmTin','businessLicense'].forEach(id => {
        document.getElementById(id).required = false;
      });
    }
  }
  hasBusiness.addEventListener('change', toggleBusinessFields);
  toggleBusinessFields();

  // Phone number registration toggle
  const registeredNameField = document.getElementById('registeredNameField');
  const numberRegisteredRadios = document.querySelectorAll('input[name="numberRegistered"]');
  
  numberRegisteredRadios.forEach(radio => {
    radio.addEventListener('change', () => {
      if (radio.value === 'No' && radio.checked) {
        registeredNameField.style.display = 'block';
        document.getElementById('registeredName').required = true;
      } else if (radio.value === 'Yes' && radio.checked) {
        registeredNameField.style.display = 'none';
        document.getElementById('registeredName').required = false;
      }
    });
  });

    // Disability details toggle
    const disabilityRadios = document.querySelectorAll('input[name="disabled"]');
    const disabilityDetailsField = document.getElementById('disabilityDetailsField');
    const disabilityDetails = document.getElementById('disabilityDetails');
    disabilityRadios.forEach(radio => {
      radio.addEventListener('change', () => {
        if (radio.value === 'Yes' && radio.checked) {
          disabilityDetailsField.style.display = 'block';
          disabilityDetails.required = true;
        } else if (radio.value === 'No' && radio.checked) {
          disabilityDetailsField.style.display = 'none';
          disabilityDetails.required = false;
          disabilityDetails.value = '';
        }
      });
    });

  // ID type toggle
  const idType = document.getElementById('idType');
  const ninField = document.getElementById('ninField');
  const otherIdField = document.getElementById('otherIdField');
  idType.addEventListener('change', () => {
    if (idType.value === 'National ID') {
      ninField.style.display = 'block';
      ninField.querySelector('input').required = true;
      otherIdField.style.display = 'none';
      otherIdField.querySelector('input').required = false;
    } else if (idType.value === 'Passport' || idType.value === 'Other') {
      otherIdField.style.display = 'block';
      otherIdField.querySelector('input').required = true;
      ninField.style.display = 'none';
      ninField.querySelector('input').required = false;
    } else {
      ninField.style.display = 'none';
      otherIdField.style.display = 'none';
      ninField.querySelector('input').required = false;
      otherIdField.querySelector('input').required = false;
    }
  });

  // Partner logo change based on ESO
  const esoHub = document.getElementById('esoHub');
  const partnerLogo = document.getElementById('partnerLogo');
  esoHub.addEventListener('change', () => {
    const logos = {
      "Outbox":"assets/outbox.png",
      "WITU":"assets/260922-uncdf-logo-transparent-blue-no-tagline (1) 1.png",
      "Refactory":"assets/refactory_logo_1000x1000.png",
      "Other":"assets/outbox.png",
      "Challenges Uganda":"assets/outbox.png",
      "Dfcu Foundation":"assets/outbox.png",
      "Excelhort":"assets/outbox.png",
      "Finding XY":"assets/outbox.png",
      "Mkazipreneur":"assets/outbox.png",
      "MUBS":"assets/outbox.png",
      "Private Education Development Network. PEDN":"assets/outbox.png",
      "Stanbic Incubator":"assets/outbox.png"
    };
    partnerLogo.src = logos[esoHub.value] || "assets/outbox.png";
  });

  // File validation
  function validateFile(fileInput) {
    const allowed = ['image/png','image/jpeg','image/jpg'];
    const file = fileInput.files[0];
    if(file && !allowed.includes(file.type)) {
      alert("Please upload only PNG, JPG, or JPEG files.");
      fileInput.value = '';
    }
  }
  document.getElementById('idFront').addEventListener('change', function(){validateFile(this);});
  document.getElementById('idBack').addEventListener('change', function(){validateFile(this);});

  // Auto-calculate installment
  const priceRange = document.getElementById('priceRange');
  const paymentDuration = document.getElementById('paymentDuration');
  const installmentAmount = document.getElementById('installmentAmount');

  function calculateInstallment() {
    const price = parseFloat(priceRange.value);
    const duration = paymentDuration.value;
    if (!price || !duration) {
      installmentAmount.value = '';
      return;
    }

    let periods = 1; // default 1 installment
    switch(duration){
      case 'Weekly': periods = 52; break;       // 52 weekly installments
      case 'Bi-Weekly': periods = 26; break;    // 26 bi-weekly installments
      case 'Monthly': periods = 12; break;      // 12 monthly installments
      case '3-Months': periods = 4; break;      // quarterly
      case '6-Months': periods = 2; break;      // semi-annual
      case 'Yearly': periods = 1; break;        // annual
    }

    const installment = price / periods;
    installmentAmount.value = installment.toLocaleString('en-UG', {
      style:'currency', currency:'UGX', minimumFractionDigits:0
    });
  }

  priceRange.addEventListener('input', calculateInstallment);
  paymentDuration.addEventListener('change', calculateInstallment);

  // Form submission
  const form = document.getElementById('deviceForm');
  form.addEventListener('submit', function(e) {
    e.preventDefault();

    // Validate TIN
    if(hasBusiness.checked){
      const tin = document.getElementById('tin').value.trim();
      const confirmTin = document.getElementById('confirmTin').value.trim();
      if(tin !== confirmTin){
        alert("TIN numbers do not match.");
        return;
      }
    }

    // Validate devices
    const devices = document.querySelectorAll('input[name="deviceType"]:checked');
    if(devices.length === 0){
      alert("Please select at least one device type.");
      return;
    }

      // Validate disability details if Yes
      const disabledYes = document.querySelector('input[name="disabled"]:checked');
      if (disabledYes && disabledYes.value === 'Yes') {
        if (!disabilityDetails.value.trim()) {
          alert("Please specify your disability.");
          disabilityDetails.focus();
          return;
        }
      }

    alert("Form submitted successfully! (Prototype)");
    form.reset();
    toggleBusinessFields();
    installmentAmount.value = '';
      disabilityDetailsField.style.display = 'none';
  });
</script>


</body>
</html>
